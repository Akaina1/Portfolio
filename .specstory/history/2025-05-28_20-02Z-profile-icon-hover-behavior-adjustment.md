<!-- Generated by SpecStory, Markdown v2.1.0 -->

<!-- cursor Session 04887cb2-de48-4ded-b9d0-27517921175f (2025-05-28 20:02Z) -->

# Profile Icon Hover Behavior Adjustment (2025-05-28 20:02Z)

_**User (2025-05-28 16:59Z)**_

in this component I have a profile icon that on hover (or tap on mobile) expands to show my photo better.

On desktop the header is on top so the profile ofset moves it down.

But on mobile the header is on the bottom for easier mobile use one handed.

on mobile the photo offset needs to go up on the Y axis and right on the X axis.

I need constants to tweak these values as well.

---

_**Agent (mode Ask)**_

I'll help you modify the component to handle different hover behaviors for desktop and mobile. Let me analyze the current code and implement the necessary changes.

Looking at your component, I can see you currently have constants for the hover scale and Y-offset, but you need separate constants for mobile behavior and X-axis movement. Here's the updated code:

```tsx:src/Header/Component.client.tsx
'use client';
import { useHeaderTheme } from '@/providers/HeaderTheme';
import { useTheme } from '@/providers/Theme';
import React, { useEffect, useState } from 'react';

import type { Header } from '@/payload-types';

import { HeaderNav } from './Nav';
import Image from 'next/image';

interface HeaderClientProps {
  data: Header;
}

/**
 * Desktop hover animation constants
 */
const DESKTOP_PROFILE_HOVER_SCALE = 5;
const DESKTOP_PROFILE_HOVER_Y_OFFSET = 60; // Moves down on desktop

/**
 * Mobile hover/tap animation constants
 */
const MOBILE_PROFILE_HOVER_SCALE = 3;
const MOBILE_PROFILE_HOVER_Y_OFFSET = -80; // Moves up on mobile (negative value)
const MOBILE_PROFILE_HOVER_X_OFFSET = 40; // Moves right on mobile

export const HeaderClient: React.FC<HeaderClientProps> = ({ data }) => {
  /* Storing the value in a useState to avoid hydration errors */
  const [theme, setTheme] = useState<string | null>(null);
  const [isMobile, setIsMobile] = useState<boolean>(false);
  const { headerTheme, setHeaderTheme } = useHeaderTheme();
  const { theme: globalTheme } = useTheme();

  // Handle theme synchronization
  useEffect(() => {
    setHeaderTheme(globalTheme ?? null);
  }, [globalTheme, setHeaderTheme]);

  // Handle theme updates
  useEffect(() => {
    if (headerTheme && headerTheme !== theme) setTheme(headerTheme);
  }, [headerTheme, theme]);

  // Detect mobile viewport
  useEffect(() => {
    const checkIsMobile = () => {
      setIsMobile(window.innerWidth < 1024); // lg breakpoint
    };
    
    checkIsMobile();
    window.addEventListener('resize', checkIsMobile);
    
    return () => window.removeEventListener('resize', checkIsMobile);
  }, []);

  /**
   * Handle mouse enter event with different behavior for mobile vs desktop
   */
  const handleMouseEnter = (e: React.MouseEvent<HTMLImageElement>) => {
    const scale = isMobile ? MOBILE_PROFILE_HOVER_SCALE : DESKTOP_PROFILE_HOVER_SCALE;
    const yOffset = isMobile ? MOBILE_PROFILE_HOVER_Y_OFFSET : DESKTOP_PROFILE_HOVER_Y_OFFSET;
    const xOffset = isMobile ? MOBILE_PROFILE_HOVER_X_OFFSET : 0;

    e.currentTarget.style.setProperty('--tw-scale-x', scale.toString());
    e.currentTarget.style.setProperty('--tw-scale-y', scale.toString());
    e.currentTarget.style.setProperty('--tw-translate-y', `${yOffset}px`);
    e.currentTarget.style.setProperty('--tw-translate-x', `${xOffset}px`);
  };

  /**
   * Handle mouse leave event - reset all transforms
   */
  const handleMouseLeave = (e: React.MouseEvent<HTMLImageElement>) => {
    e.currentTarget.style.setProperty('--tw-scale-x', '1');
    e.currentTarget.style.setProperty('--tw-scale-y', '1');
    e.currentTarget.style.setProperty('--tw-translate-y', '0px');
    e.currentTarget.style.setProperty('--tw-translate-x', '0px');
  };

  return (
    <header
      className="fixed bottom-0 z-40 w-full self-center rounded-b-xl bg-background shadow-lg md:sticky md:top-0 md:rounded-b-xl lg:max-w-8xl"
      {...(theme ? { 'data-theme': theme } : {})}
    >
      <div className="container mx-auto px-4">
        <nav className="flex h-16 items-center justify-between md:justify-center lg:justify-between">
          {/* Profile icon with hover animation */}
          <div className="flex h-8 w-8 items-center justify-center rounded-full md:hidden lg:flex">
            <Image
              src="/profile.png"
              alt="Profile"
              width={32}
              height={32}
              className="sm:hover:scale-130 h-6 w-6 rounded-full object-cover transition-transform duration-300 ease-in-out hover:scale-125 sm:h-8 sm:w-8"
              style={
                {
                  '--tw-scale-x': '1',
                  '--tw-scale-y': '1',
                  '--tw-translate-y': '0px',
                  '--tw-translate-x': '0px',
                } as React.CSSProperties
              }
              onMouseEnter={handleMouseEnter}
              onMouseLeave={handleMouseLeave}
            />
          </div>

          {/* HeaderNav - on mobile it appears after profile icon */}
          <div className="order-last lg:order-first">
            <HeaderNav data={data} />
          </div>
        </nav>
      </div>
    </header>
  );
};
```

## Key Changes Made:

1. **Added Mobile-Specific Constants**:
   - `MOBILE_PROFILE_HOVER_SCALE`: Separate scale factor for mobile (set to 3, smaller than desktop)
   - `MOBILE_PROFILE_HOVER_Y_OFFSET`: Negative value (-80px) to move the image up on mobile
   - `MOBILE_PROFILE_HOVER_X_OFFSET`: Positive value (40px) to move the image right on mobile

2. **Mobile Detection**:
   - Added `isMobile` state to track viewport size
   - Uses the `lg` breakpoint (1024px) to determine mobile vs desktop
   - Includes resize listener to handle viewport changes

3. **Conditional Animation Logic**:
   - Extracted hover logic into separate functions (`handleMouseEnter` and `handleMouseLeave`)
   - Different animation values applied based on `isMobile` state
   - Added X-axis translation support

4. **Enhanced Style Properties**:
   - Added `--tw-translate-x` to the initial style object
   - Both X and Y translations are reset on mouse leave

## Behavior:
- **Desktop**: Profile icon scales by 5x and moves down 60px (as before)
- **Mobile**: Profile icon scales by 3x, moves up 80px, and moves right 40px

You can easily adjust the constants at the top of the file to fine-tune the animation behavior for both desktop and mobile experiences.

---

